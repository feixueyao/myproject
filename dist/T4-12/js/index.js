!function(t){function e(a){if(s[a])return s[a].exports;var n=s[a]={exports:{},id:a,loaded:!1};return t[a].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var s={};return e.m=t,e.c=s,e.p="/dist/",e(0)}([function(t,e,s){t.exports=s(1)},function(t,e,s){"use strict";s(2),s(4);var a=parent.window.h5SyncActions&&parent.window.h5SyncActions.isSync;$(function(){function t(){y=0,b=0,u.each(function(t,e){$(e).hasClass("true")||$(e).hasClass("false")||$(e).hasClass("finish")||$(e).hasClass("faild")||y++}),p.each(function(t,e){$(e).hasClass("true")||$(e).hasClass("false")||$(e).hasClass("finish")||$(e).hasClass("faild")||b++})}var e=configData.source.options,s=configData.source.audio,n=configData.source.title,i=configData.source.article,r=configData.desc,o=(configData.tg,[]);i?$("article").find(".article").html(i):($("article").hide(),$(".commom").addClass("no-article")),r||$(".commom .desc").show().html("").css("opacity",0),n||($(".commom .title").hide(),$(".commom").addClass("no-title")),s?$("#sound audio").attr("src",s):$("#sound").hide();for(var c in e)o.push(e[c].text);o.splice(1,0,o.shift()),o.splice(1,0,o.pop());for(var l=0;l<e.length;l++){var h=$('<li class="item" data-syncactions="pic-'+l+'"><img src="'+e[l].pic+'"></li>'),d=$('<li data-syncactions="item-'+l+'"><span>'+o[l]+"</span></li>");$(".problem-area .pic").append(h),$(".problem-area .answers").append(d)}var f=[$(".problem-area .pic li"),$(".problem-area .answers li")],u=f[0],p=f[1],v=0;$(".article").height()>$(".article-box").height()&&($(".article-btn").show(),$(".article-box").removeClass("no-scroll")),$(".btn-up").addClass("disabled");var m=!0;$(".btn-up").on("click touchstart",function(t){if(t.stopPropagation(),m){if(m=!1,!a)return void $(this).trigger("syncBtnUpClick");SDK.bindSyncEvt({index:$(t.currentTarget).data("syncactions"),eventType:"click",method:"event",syncName:"syncBtnUpClick"})}}),$(".btn-up").on("syncBtnUpClick",function(t){var e=$(".article").height()/window.base-$(".article-box").height()/window.base;return v>=0?(SDK.setEventLock(),void(m=!0)):(v+=.8,v=parseFloat(v.toFixed(1)),$(".article").css("top",v+"rem"),0==v&&$(this).addClass("disabled"),-v<e&&$(".btn-down").removeClass("disabled"),SDK.setEventLock(),void(m=!0))});var g=!0;$(".btn-down").on("click touchstart",function(t){if(t.stopPropagation(),g){if(g=!1,!a)return void $(this).trigger("syncBtnDownClick");SDK.bindSyncEvt({index:$(t.currentTarget).data("syncactions"),eventType:"click",method:"event",syncName:"syncBtnDownClick"})}}),$(".btn-down").on("syncBtnDownClick",function(){var t=$(".article").height()/window.base-$(".article-box").height()/window.base;return-v>=t?(SDK.setEventLock(),void(g=!0)):(v-=.8,v=parseFloat(v.toFixed(1)),$(".article").css("top",v+"rem"),-v>=t&&$(this).addClass("disabled"),v<0&&$(".btn-up").removeClass("disabled"),SDK.setEventLock(),void(g=!0))});var C=void 0,w=void 0,y=u.length,b=p.length,S=!0,k=(parseInt($("#lineBox").height()),!0);$("#sound").on("click touchstart",function(t){if(t.stopPropagation(),k){if(k=!1,!a)return void $(this).trigger("syncSoundClick");if("tea"!=window.frameElement.getAttribute("user_type"))return void $(this).trigger("syncSoundClick");SDK.bindSyncEvt({index:$(t.currentTarget).data("syncactions"),eventType:"click",method:"event",syncName:"syncSoundClick",funcType:"audio"})}}),$("#sound").on("syncSoundClick",function(){var t=$(this).find("img"),e=$(this).find("audio")[0];S?(e.play(),t.attr("src",t.attr("src").replace(".png",".gif"))):(e.pause(),t.attr("src",t.attr("src").replace(".gif",".png"))),e.onended=function(){t.attr("src",t.attr("src").replace(".gif",".png")),S=!0}.bind(this),S=!S,SDK.setEventLock(),k=!0});var x=!0;$(".problem-area .pic li").on("click",function(t){if(t.stopPropagation(),x){if(x=!1,!a)return void $(this).trigger("syncSoundClick");"stu"==window.frameElement.getAttribute("user_type")&&SDK.bindSyncEvt({index:$(t.currentTarget).data("syncactions"),eventType:"click",method:"event",syncName:"syncSoundClick"})}}),$(".problem-area .pic li").on("syncSoundClick",function(s,n){var i=$(this),r=$(".container").offset().left;if($(this).hasClass("finish"))return void(x=!0);if(t(),C=$(this).index(),y<b)$(this).hasClass("faild")&&(p.each(function(t,e){u.eq(t).hasClass("finish")||u.eq(t).removeClass("true"),$(e).attr("partner")===i.attr("partner")&&($(e).removeClass("faild true"),$(e).removeAttr("partner"))}),$("#lineBox .line").each(function(t,e){$(this).attr("partner")===i.attr("partner")&&$(this).remove()}),$(this).removeClass("faild").addClass("true"),$(this).removeAttr("partner")),u.each(function(t,e){$(e).hasClass("finish")||$(e).hasClass("faild")||$(e).removeClass("true")}),$(this).addClass("true");else if(y>b){if($(this).hasClass("faild"))return p.each(function(t,e){$(e).attr("partner")===i.attr("partner")&&$(e).removeClass("faild true")}),$("#lineBox .line").each(function(t,e){$(this).attr("partner")===i.attr("partner")&&$(this).remove()}),$(this).removeClass("faild").addClass("true"),$(this).removeAttr("partner"),p.eq(w).removeAttr("partner"),p.eq(w).removeClass("true"),SDK.setEventLock(),void(x=!0);var c=$('<div class="line"><div></div></div>'),l=p.eq(w).offset().left+p.eq(w).width()/2,h=$(this).offset().left+$(this).width()/2,d=$("#lineBox").height()/window.base,f=(l-h)/window.base,v=void 0;v=180*Math.atan(d/f)/Math.PI,v=v>0?v:180+v,Math.abs(Math.abs(v)-90)<10&&(v=90),d=Math.pow($("#lineBox").height()/window.base,2),f=Math.pow((l-h)/window.base,2),e[$(this).index()].text===o[w]?(console.log("finish"),$(this).addClass("finish"),p.eq(w).addClass("finish"),c.addClass("true"),$("#lineBox").append(c),c.attr("partner",$(this).attr("partner")),c.css({left:($(this).offset().left+$(this).width()/2-r)/window.base+"rem",width:Math.sqrt(d+f)+.6+"rem",transformOrigin:"left center",transform:"rotate("+v+"deg)"})):($(this).attr("partner",w),$(this).removeClass("true").addClass("shake"),$(this).on("animationend",function(){$(this).removeClass("shake"),$(this).off("animationend"),SDK.setEventLock(),x=!0}),p.eq(w).attr("partner",w),p.eq(w).addClass("shake").removeClass("true"),p.eq(w).on("animationend",function(){p.eq(w).removeClass("shake"),p.eq(w).off("animationend"),SDK.setEventLock(),x=!0}))}else{if($(this).hasClass("faild"))return p.each(function(t,e){$(e).attr("partner")===i.attr("partner")&&($(e).removeClass("faild true"),$(e).removeAttr("partner"))}),$("#lineBox .line").each(function(t,e){$(this).attr("partner")===i.attr("partner")&&$(this).remove()}),$(this).removeClass("faild").addClass("true"),$(this).removeAttr("partner"),SDK.setEventLock(),void(x=!0);u.each(function(t,e){$(e).hasClass("finish")||$(e).hasClass("faild")||$(e).removeClass("true")}),$(this).addClass("true")}SDK.setEventLock(),x=!0,$(".finish").length==u.length+p.length&&(console.log("c-page:完成答题！====== 二期增加星星派送效果"),a&&SDK.bindSyncResultEvt({sendUser:n.data[0].value.sendUser,receiveUser:n.data[0].value.receiveUser,sendUserInfo:n.data[0].value.sendUserInfo,index:$("#container").data("syncresult"),resultData:{isRight:!0},starSend:n.data[0].value.starSend,syncName:"teaShowResult"}),SDK.setEventLock(),x=!1,D=!1)});var D=!0;$(".problem-area .answers li").on("click touchstart",function(t){if(t.stopPropagation(),D){if(D=!1,!a)return void $(this).trigger("syncSoundClick");"stu"==window.frameElement.getAttribute("user_type")&&SDK.bindSyncEvt({index:$(t.currentTarget).data("syncactions"),eventType:"click",method:"event",syncName:"syncSoundClick"})}}),$(".problem-area .answers li").on("syncSoundClick",function(s,n){var i=$(this),r=$(".container").offset().left;if($(this).hasClass("finish"))return void(D=!0);if(t(),w=$(this).index(),b<y)$(this).hasClass("faild")&&(u.each(function(t,e){p.eq(t).hasClass("finish")||p.eq(t).removeClass("true"),$(e).attr("partner")===i.attr("partner")&&($(e).removeClass("faild true"),$(e).removeAttr("partner"))}),$("#lineBox .line").each(function(t,e){$(this).attr("partner")===i.attr("partner")&&$(this).remove()}),$(this).removeClass("faild").addClass("true"),$(this).removeAttr("partner")),p.each(function(t,e){$(e).hasClass("finish")||$(e).hasClass("faild")||$(e).removeClass("true")}),$(this).addClass("true");else if(b>y){if($(this).hasClass("faild"))return u.each(function(t,e){$(e).attr("partner")===i.attr("partner")&&$(e).removeClass("faild true")}),$("#lineBox .line").each(function(t,e){$(this).attr("partner")===i.attr("partner")&&$(this).remove()}),$(this).removeClass("faild").addClass("true"),$(this).removeAttr("partner"),u.eq(C).removeAttr("partner"),u.eq(C).removeClass("true"),SDK.setEventLock(),void(D=!0);var o=$('<div class="line"><div></div></div>'),c=u.eq(C).offset().left+u.eq(C).width()/2,l=$(this).offset().left+$(this).width()/2,h=$("#lineBox").height()/window.base,d=(c-l)/window.base,f=void 0;f=180*-Math.atan(h/d)/Math.PI,f=f>0?f:180+f,Math.abs(Math.abs(f)-90)<10&&(f=90),h=Math.pow($("#lineBox").height()/window.base,2),d=Math.pow((c-l)/window.base,2),$(this).find("span").html()===e[C].text?($(this).addClass("finish"),u.eq(C).addClass("finish"),o.addClass("true"),$("#lineBox").append(o),o.attr("partner",$(this).attr("partner")),o.css({left:(u.eq(C).offset().left+u.eq(C).width()/2-r)/window.base+"rem",width:Math.sqrt(h+d)+.6+"rem",transformOrigin:"left center",transform:"rotate("+f+"deg)"})):($(this).attr("partner",w),$(this).removeClass("true").addClass("shake"),$(this).on("animationend",function(){$(this).removeClass("shake"),$(this).off("animationend"),SDK.setEventLock(),D=!0}),u.eq(C).attr("partner",w),u.eq(C).addClass("shake").removeClass("true"),u.eq(C).on("animationend",function(){u.eq(C).removeClass("shake"),u.eq(C).off("animationend"),SDK.setEventLock(),D=!0}))}else{if($(this).hasClass("faild"))return u.each(function(t,e){$(e).attr("partner")===i.attr("partner")&&($(e).removeClass("faild true"),$(e).removeAttr("partner"))}),$("#lineBox .line").each(function(t,e){$(this).attr("partner")===i.attr("partner")&&$(this).remove()}),$(this).removeClass("faild").addClass("true"),$(this).removeAttr("partner"),SDK.setEventLock(),void(D=!0);p.each(function(t,e){$(e).hasClass("finish")||$(e).hasClass("faild")||$(e).removeClass("true")}),$(this).addClass("true")}SDK.setEventLock(),D=!0,$(".finish").length==u.length+p.length&&(console.log("c-page:完成答题！====== 二期增加星星派送效果"),a&&SDK.bindSyncResultEvt({sendUser:n.data[0].value.sendUser,receiveUser:n.data[0].value.receiveUser,sendUserInfo:n.data[0].value.sendUserInfo,index:$("#container").data("syncresult"),resultData:{isRight:!0},starSend:n.data[0].value.starSend,syncName:"teaShowResult"}),SDK.setEventLock(),D=!1,x=!1)})})},function(t,e,s){"use strict";s(3)},function(t,e){"use strict";$(function(){var t={bg:configData.bg,desc:configData.desc,title:configData.source.title,tgs:configData.tg,tgMoved:!1,sync:parent.window.h5SyncActions&&parent.window.h5SyncActions.isSync,getQueryString:function(t){var e=this.parseURL("http://www.example.com");return top.frames[0]&&top.frames[0].frameElement&&(e=this.parseURL(top.frames[0].frameElement.src)),e.params[t]},parseURL:function(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var t,s={},a=e.search.replace(/^\?/,"").split("&"),n=a.length,i=0;i<n;i++)a[i]&&(t=a[i].split("="),s[t[0]]=t[1]);return s}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:e.pathname.replace(/^\//,"").split("/")}},userType:function t(){var t="";return t=this.sync?window.frameElement.getAttribute("user_type"):"1"===this.getQueryString("role")?"tea":"stu"},setBg:function(){this.bg&&$(".container").css("background-image","url("+this.bg+")")},setDesc:function(){this.desc&&$(".desc").text(this.desc).show()},setTitle:function(){var t=this.title.length;t>0&&(t<=28?$(".title h3").css("font-size","0.72rem"):t<=42?$(".title h3").css("font-size","0.48rem"):$(".title h3").css("font-size","0.36rem"),$(".title h3").text(this.title),$(".title").show())},createTg:function(){var t="",e="";this.tgs.forEach(function(e,s){t+='\n        \t\t<li>\n\t\t\t\t    <div class="tg-list-tit clearfix">\n\t\t\t\t    <span class="fl tg-list-num">'+(s+1)+'</span>\n\t\t\t\t    <h3 class="fl">'+e.title+'</h3>\n\t\t\t\t    </div>\n\t\t\t\t    <p class="tg-list-des">'+e.content+"</p>\n\t\t\t    </li>\n        \t\t"}),e='<img src="image/tg.png" alt="" class="tg" style="display: none">\n            <div class="tg-content">\n                <ul>'+t+"</ul>\n            </div>\n            ",$(e).appendTo("#tg")},showTg:function(){this.tgs&&this.tgs.length>0&&(this.tgs[0].title.length>0||this.tgs[0].content.length>0)&&(this.createTg(),$(".tg").show())},showStu:function(){$(".tea").remove(),$(".stu").removeClass("hide")},showTea:function(){$(".stu").remove(),$(".tea").removeClass("hide"),this.showTg()},showMainPage:function(){var t=this.userType();switch(t){case"stu":this.showStu();break;default:this.showTea()}},bindEvents:function(){$("#tg").on("click",".tg",function(){this.tgMoved?(this.tgMoved=!1,$(".tg-content,.tg").removeClass("active")):(this.tgMoved=!0,$(".tg-content,.tg").addClass("active"))})},init:function(){this.setBg(),this.setDesc(),this.setTitle(),this.showMainPage(),this.bindEvents()}};t.init()})},function(t,e){"use strict";window.onload=function(){window.location.hostname;if(parent.window.h5SyncActions&&parent.window.h5SyncActions.isSync){var t=$(window.frameElement).attr("id"),e="h5_course_self_frame";"h5_course_cache_frame"!=t&&$(window.frameElement).attr("load_status","1"),t==e&&(parent.window.h5SyncActions.isPracticePage(!0),parent.window.h5SyncActions.isResultPage(!0))}}}]);