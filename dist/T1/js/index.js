!function(t){function e(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i={};return e.m=t,e.c=i,e.p="/dist/",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";i(2),i(4),$(function(){var t=parent.window.h5SyncActions&&parent.window.h5SyncActions.isSync,e=$(window.frameElement).attr("user_type"),i=$(".content-wrap"),n=configData.source;console.info("当前显示环境处在"+(t?"":" 非")+"同步状态！！！"),configData.defaultValue.bgImage&&$(".container").css({backgroundImage:"url("+configData.defaultValue.bgImage+")"}),configData.bg&&$(".container").css({backgroundImage:"url("+configData.bg+")"}),configData.defaultValue.bgColor&&$(".container").css({backgroundColor:configData.defaultValue.bgColor}),configData.bgColor&&$(".container").css({backgroundColor:configData.bgColor});var a=$(".title").is(":hidden");if(a&&$(".content-wrap").css("height","calc(100% - .76rem)"),t&&"tea"==e){var s='\n      <div class="frame-wrap">\n\n        <div class="layout-middle question">\n\n          <div class="layout-middle-bg">\n          {{imgTpl}}\n          {{audioTpl}}\n          {{wordTpl}}\n          </div>\n        </div>\n        <ul class="layout-footer answers">\n          {{list-item}}\n        </ul>\n      </div>\n    ',r='\n    <div class="question-img">\n      <img class="" src="{{questionImg}}" alt="">\n    </div>\n    ',o='\n      <div class="audio-wrap"  data-syncactions="audio-wrap-1">\n        <img src="./image/btn-audio.png"/>\n        <audio src="{{audio}}"></audio>\n      </div>\n    ',c='\n    <div class="con-text">{{word}}</div>\n    ',l='\n        <li class="layout-item answer" data-id={{id}} data-syncactions="{{id}}" data-answer={{isRight}}>\n          <div class="layout-middle-border">\n            <img src="{{img}}" alt=""/>\n            <div class="mask-tip tea {{isright}}"><div class="layout-bottom"></div></div>\n          </div>\n        </li>\n    ',d="",u=n.items.map(function(t,e){return l.replace(/{{id}}/g,t.id).replace(/{{isRight}}/g,t.isRight).replace(/{{img}}/g,t.img).replace(/{{isright}}/g,t.isRight?"right":"error")});d+=s.replace(/{{audioTpl}}/g,""!=n.audio?o.replace(/{{audio}}/g,n.audio).replace(/{{id}}/g,n.id):"").replace(/{{wordTpl}}/g,""!=n.word?c.replace(/{{word}}/g,n.word):"").replace(/{{imgTpl}}/g,""!=n.questionImg?r.replace(/{{questionImg}}/g,n.questionImg):"").replace(/{{list-item}}/g,u.join("")),i.html(d)}else{var g='\n      <div class="frame-wrap">\n        <div class="layout-middle question">\n          <div class="layout-middle-bg">\n          {{imgTpl}}\n          {{audioTpl}}\n          {{wordTpl}}\n          </div>\n        </div>\n        <ul class="layout-footer answers">\n          {{list-item}}\n        </ul>\n      </div>\n    ',m='\n    <div class="question-img">\n      <img class="" src="{{questionImg}}" alt="">\n    </div>\n    ',h='\n      <div class="audio-wrap"  data-syncactions="audio-wrap-1">\n        <img src="./image/btn-audio.png"/>\n        <audio src="{{audio}}"></audio>\n      </div>\n    ',p='\n    <div class="con-text">{{word}}</div>\n    ',f='\n        <li class="layout-item answer" data-id={{id}} data-syncactions="{{id}}" data-answer={{isRight}}>\n          <div class="layout-middle-border">\n            <img src="{{img}}" alt=""/>\n            <div class="mask-tip stu {{isright}}"></div>\n          </div>\n        </li>\n    ',v="",w=n.items.map(function(t,e){return f.replace(/{{id}}/g,t.id).replace(/{{isRight}}/g,t.isRight).replace(/{{img}}/g,t.img).replace(/{{isright}}/g,t.isRight?"right":"error")});v+=g.replace(/{{audioTpl}}/g,""!=n.audio?h.replace(/{{audio}}/g,n.audio):"").replace(/{{wordTpl}}/g,""!=n.word?p.replace(/{{word}}/g,n.word):"").replace(/{{imgTpl}}/g,""!=n.questionImg?m.replace(/{{questionImg}}/g,n.questionImg):"").replace(/{{list-item}}/g,w.join("")),i.html(v)}""==configData.source.questionImg&&""==configData.source.audio&&($(".con-text").css({"line-height":"1rem","border-radius":".8rem","word-wrap":"break-word","max-width":"13rem",padding:".2rem .5rem"}),configData.source.word.length>15?$(".con-text").css("font-size",".72rem"):configData.source.word.length>12?$(".con-text").css("font-size",".9rem"):$(".con-text").css("font-size","1rem"));var y=!0,b=!0;i.on("click",".answer",function(e){if(0==b)return SDK.setEventLock(),void(y=!0);if(y){if(y=!1,!t)return void $(this).trigger("syncAnswerClick");SDK.bindSyncEvt({sendUser:"",receiveUser:"",index:$(e.currentTarget).data("syncactions"),method:"event",syncName:"syncAnswerClick"})}}),i.on("syncAnswerClick",".answer",function(e,i){var n=$(this).data("id"),a=!1;1==$(this).data("answer")?($(this).addClass("done"),a=!0,b=!1):$(this).addClass("shake"),t&&SDK.bindSyncResultEvt({sendUser:i.data[0].value.sendUser,receiveUser:i.data[0].value.receiveUser,sendUserInfo:i.data[0].value.sendUserInfo,index:$("#container").data("syncresult"),resultData:{itemID:n},syncName:"syncResultClick"}),SDK.setEventLock(),y=!0}).on("animationend",".answer",function(){$(this).removeClass("shake"),SDK.setEventLock(),y=!0});var D=!0;i.on("click",".audio-wrap",function(e){if(D){if(D=!1,!t)return void $(this).trigger("syncAudioWrapClick");if("tea"!=window.frameElement.getAttribute("user_type"))return void $(this).trigger("syncAudioWrapClick");SDK.bindSyncEvt({sendUser:"",receiveUser:"",index:$(e.currentTarget).data("syncactions"),method:"event",syncName:"syncAudioWrapClick",funcType:"audio"})}}),i.on("syncAudioWrapClick",".audio-wrap",function(t,e){var i=$(this).find("img");i.attr("src",i.attr("src").replace(".png",".gif")),$(this).find("audio").get(0).play(),setTimeout(function(){i.attr("src",i.attr("src").replace(".gif",".png"))},1e3),SDK.setEventLock(),D=!0});var k={};$("#container").on("syncResultClick",function(t,e){var i=e.data[0].value.sendUserInfo,n=e.data[0].value.syncAction.resultData;"stu"==i.type&&(k[i.id]={name:i.name,itemID:n.itemID});var a={0:[],1:[],2:[],3:[]};for(var s in k){var r=k[s].itemID;$.inArray(k[s].name,a[r])==-1&&a[r].push(k[s].name)}$(".layout-item").removeClass("done"),$(".layout-bottom").html("");for(var o in a)if(a[o].length>0)for(var c=0,l=a[o].length;c<l;c++)$(".layout-item[data-id="+o+"]").addClass("done"),$('<li class="layout-squ user">'+a[o][c]+"</li>").appendTo($(".layout-item[data-id="+o+"]").find(".layout-bottom"));SDK.setEventLock(),y=!0})})},function(t,e,i){"use strict";i(3)},function(t,e){"use strict";$(function(){var t={bg:configData.bg,desc:configData.desc,title:configData.source.title,tgs:configData.tg,tgMoved:!1,sync:parent.window.h5SyncActions&&parent.window.h5SyncActions.isSync,getQueryString:function(t){var e=this.parseURL("http://www.example.com");return top.frames[0]&&top.frames[0].frameElement&&(e=this.parseURL(top.frames[0].frameElement.src)),e.params[t]},parseURL:function(t){var e=document.createElement("a");return e.href=t,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,query:e.search,params:function(){for(var t,i={},n=e.search.replace(/^\?/,"").split("&"),a=n.length,s=0;s<a;s++)n[s]&&(t=n[s].split("="),i[t[0]]=t[1]);return i}(),file:(e.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^\/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:e.pathname.replace(/^\//,"").split("/")}},userType:function t(){var t="";return t=this.sync?window.frameElement.getAttribute("user_type"):"1"===this.getQueryString("role")?"tea":"stu"},setBg:function(){this.bg&&$(".container").css("background-image","url("+this.bg+")")},setDesc:function(){this.desc&&$(".desc").text(this.desc).show()},setTitle:function(){var t=this.title.length;t>0&&(t<=28?$(".title h3").css("font-size","0.72rem"):t<=42?$(".title h3").css("font-size","0.48rem"):$(".title h3").css("font-size","0.36rem"),$(".title h3").text(this.title),$(".title").show())},createTg:function(){var t="",e="";this.tgs.forEach(function(e,i){t+='\n        \t\t<li>\n\t\t\t\t    <div class="tg-list-tit clearfix">\n\t\t\t\t    <span class="fl tg-list-num">'+(i+1)+'</span>\n\t\t\t\t    <h3 class="fl">'+e.title+'</h3>\n\t\t\t\t    </div>\n\t\t\t\t    <p class="tg-list-des">'+e.content+"</p>\n\t\t\t    </li>\n        \t\t"}),e='<img src="image/tg.png" alt="" class="tg" style="display: none">\n            <div class="tg-content">\n                <ul>'+t+"</ul>\n            </div>\n            ",$(e).appendTo("#tg")},showTg:function(){this.tgs&&this.tgs.length>0&&(this.tgs[0].title.length>0||this.tgs[0].content.length>0)&&(this.createTg(),$(".tg").show())},showStu:function(){$(".tea").remove(),$(".stu").removeClass("hide")},showTea:function(){$(".stu").remove(),$(".tea").removeClass("hide"),this.showTg()},showMainPage:function(){var t=this.userType();switch(t){case"stu":this.showStu();break;default:this.showTea()}},bindEvents:function(){$("#tg").on("click",".tg",function(){this.tgMoved?(this.tgMoved=!1,$(".tg-content,.tg").removeClass("active")):(this.tgMoved=!0,$(".tg-content,.tg").addClass("active"))})},init:function(){this.setBg(),this.setDesc(),this.setTitle(),this.showMainPage(),this.bindEvents()}};t.init()})},function(t,e){"use strict";window.onload=function(){window.location.hostname;if(parent.window.h5SyncActions&&parent.window.h5SyncActions.isSync){var t=$(window.frameElement).attr("id"),e="h5_course_self_frame";"h5_course_cache_frame"!=t&&$(window.frameElement).attr("load_status","1"),t==e&&(parent.window.h5SyncActions.isPracticePage(!0),parent.window.h5SyncActions.isResultPage(!1))}}}]);